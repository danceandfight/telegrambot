# Телаграм бот для уведомлений о проверке заданий DVMN

Телеграм бот, который пришлет уведомление о проверке любого задания с курса [DVMN.org](DVMN.org) и вам не придется больше обновлять страничку в томительном ожидании.

## Как установить

**Важно!** Предварительно должен быть установлен python версии не выше 3.9.x.

Скачайте код:
```sh
git clone git@github.com:danceandfight/telegrambot.git
```

Перейдите в каталог проекта:
```sh
cd telegrambot
```
Проверьте, что `python` установлен и корректно настроен. Запустите его в командной строке:
```sh
python --version
```

Возможно, вместо команды `python` здесь и в остальных инструкциях этого README придётся использовать `python3`. Зависит это от операционной системы и от того, установлен ли у вас Python старой второй версии. 

В каталоге проекта создайте виртуальное окружение:
```sh
python -m venv venv
```
Активируйте его. На разных операционных системах это делается разными командами:

- Windows: `.\venv\Scripts\activate`
- MacOS/Linux: `source venv/bin/activate`

Установите зависимости в виртуальное окружение:
```sh
pip install -r requirements.txt
```

Зарегестрируйте нового бота с помощью `@BotFather` в телеграме, для того, чтобы получить токен бота.

Найдите свой токен devman в [профиле](https://dvmn.org/api/docs/):

Создайте файл `.env` в каталоге `telegrambot/` и положите туда код такого вида, заменив токены на свои:
```sh
TELEGRAM_BOT_TOKEN='1234566789:SFefseEGhyfJyj4jKUutkuASFhrtjhyJ42g'
DVMN_TOKEN=46f539vfsjngi4359860ewgnirgnri39341vmor1
```

Запустите бота:

```sh
python main.py
```

## Как установить используя Docker

Установите Docker любым удобным способом: [https://docs.docker.com/engine/install/](https://docs.docker.com/engine/install/)

В репозитории уже есть необходимый Dockerfile. Не запускайте бота через команду: `python main.py`, вместо это нужно создать image и container в докере.

Для создания image используйте команду:

```sh
docker build --tag <название бота> .
```
`<название бота>` может быть произвольным, например, `tg-bot`. 
Для запуска контейнера используйте команду:
```sh
docker run --publish 8000:5000 <название бота>
```

## Как пользоваться

Откройте диалог с ботом и используйте команду `/start`. Для того, чтобы проверить работоспособность бота, отправьте любую работу на проверку и затем верните ее. Бот должен прислать уведовление с указанием название урока.

## Цели проекта

Код написан в учебных целях — это урок в курсе по Python и веб-разработке на сайте [Devman](https://dvmn.org).